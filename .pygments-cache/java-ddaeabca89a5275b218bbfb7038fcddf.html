<div class="highlight"><pre><span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>

  <span class="n">def</span> <span class="n">grailsApplication</span>

  <span class="n">String</span> <span class="n">title</span>
  <span class="n">Float</span> <span class="n">cost</span>

  <span class="kd">static</span> <span class="n">constraints</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">title</span><span class="o">(</span><span class="nl">blank:</span> <span class="kc">false</span><span class="o">)</span>
    <span class="n">cost</span><span class="o">(</span><span class="nl">blank:</span> <span class="kc">false</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="n">def</span> <span class="n">String</span> <span class="nf">toDisplayString</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">def</span> <span class="n">g</span> <span class="o">=</span> <span class="n">grailsApplication</span><span class="o">.</span><span class="na">mainContext</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span>
      <span class="err">&#39;</span><span class="n">org</span><span class="o">.</span><span class="na">codehaus</span><span class="o">.</span><span class="na">groovy</span><span class="o">.</span><span class="na">grails</span><span class="o">.</span><span class="na">plugins</span><span class="o">.</span><span class="na">web</span><span class="o">.</span><span class="na">taglib</span><span class="o">.</span><span class="na">ApplicationTagLib</span><span class="err">&#39;</span>
    <span class="o">)</span>
    <span class="k">return</span> <span class="s">&quot;${title} costs ${g.formatNumber(</span>
<span class="s">      [number: cost, type: &quot;</span><span class="n">currency</span><span class="s">&quot;, currencyCode: &quot;</span><span class="n">USD</span><span class="s">&quot;]</span>
<span class="s">    )}&quot;</span>
  <span class="o">}</span>

<span class="o">}</span>
</pre>
</div>
